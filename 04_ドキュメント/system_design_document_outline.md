# 宅地建物取引士試験合格のための質問プロンプトシステム設計書

## 1. はじめに

### 1.1. 目的
宅地建物取引士試験合格を支援するため、間隔反復学習理論と認知負荷理論に基づいた毎日質問プロンプトシステムを構築する。

### 1.2. 目標
- 毎日決まった時間（10:00、15:00、19:00）に試験範囲から質問を出題する。
- 解答を通して知識を深め、試験合格を確実にする。
- 既存のPWAアプリ（https://lkebcslv.manus.space/）を活用し、テストを繰り返すことで学習効果を最大化する。

## 2. 学習理論の適用

### 2.1. 間隔反復学習理論 (Spaced Repetition Theory)
- **概要**: 心理学者エビングハウスの忘却曲線に基づき、記憶が薄れ始める最適なタイミングで復習を繰り返すことで、長期記憶への定着を促す学習法。
- **システムへの適用**: 
    - 問題の正答率や解答履歴に基づき、次回の出題間隔を調整するアルゴリズムを導入する。
    - 難易度や学習フェーズに応じて、復習の頻度と間隔を最適化する。
    - 誤答した問題や苦手な科目は、より短い間隔で再出題し、克服を促す。

### 2.2. 認知負荷理論 (Cognitive Load Theory)
- **概要**: 学習者のワーキングメモリの容量には限界があり、学習内容の提示方法や課題の設計によって生じる認知負荷を適切に管理することで、学習効果を最大化するという理論。
- **システムへの適用**: 
    - **内的な認知負荷 (Intrinsic Cognitive Load)**: 宅建試験の科目特性（権利関係の概念理解、宅建業法の数値暗記など）に応じて、問題の複雑さや情報量を調整する。
    - **外的な認知負荷 (Extraneous Cognitive Load)**: 質問プロンプトの構造を統一し、視覚的に分かりやすく提示することで、問題文の理解に不要な負荷を軽減する。解答のポイントや学習アドバイスを簡潔にまとめる。
    - **本質的な認知負荷 (Germane Cognitive Load)**: 解答のポイントや記憶のコツを提供することで、学習者が新しい知識を既存の知識と結びつけ、スキーマを構築するのを支援する。

### 2.3. 宅建試験の特性を考慮した学習理論の統合
- 広範囲な試験範囲に対応するため、科目別・時間帯別の学習戦略と連動させる。
- 法律の理解と応用が必要な問題には、解説と学習ポイントを充実させ、深い理解を促す。
- 数値暗記が必要な問題には、記憶のコツを提供し、効率的な暗記を支援する。

## 3. 学習戦略と質問プロンプトの構造

### 3.1. 学習戦略
- **朝（10:00）：基礎固め**
    - 新しい知識の習得と基本概念の理解に重点を置く。
    - 難易度: 基本〜標準
    - 科目: 全科目（特に権利関係、法令上の制限の概念）
- **昼（15:00）：理解深化**
    - 実務的な応用と知識の定着を図る。
    - 難易度: 標準〜応用
    - 科目: 全科目（特に宅建業法、税・その他の計算問題）
- **夜（19:00）：実戦演習**
    - 総合的な実戦力と応用力の向上を目指す。
    - 難易度: 応用
    - 科目: 全科目（複合問題、過去問形式）

### 3.2. 質問プロンプトの構造
- 時間帯表示と学習フェーズの明示
- 具体的な学習テーマの提示
- 四肢択一形式の問題
- 解答のポイントと学習アドバイス
- 記憶定着のためのコツ

## 4. 科目別アプローチ

### 4.1. 権利関係（民法等）
- 概念理解と体系的学習を重視。
- 事例問題を通じて、法律の適用能力を養う。

### 4.2. 宅建業法
- 数値暗記と手続き理解を徹底。
- 頻出事項を繰り返し出題し、正確な知識を定着させる。

### 4.3. 法令上の制限
- 用語定義と制限内容の理解に注力。
- 図や表を用いた解説で、視覚的な理解を促進する。

### 4.4. 税・その他
- 計算方法と特例制度の把握。
- 最新の税制改正に対応した問題を出題する。

## 5. システム要件

### 5.1. 質問データベース
- 構造: 問題ID、科目区分、時間帯、難易度、問題文、選択肢、正解、解説、学習ポイント、記憶のコツ、推定学習時間
- 科目区分: 権利関係(rights)、宅建業法(business_law)、法令上の制限(restrictions)、税・その他(tax_other)
- 時間帯: 朝(morning)、昼(afternoon)、夜(evening)
- 難易度: 基本(basic)、標準(standard)、応用(advanced)

### 5.2. PWAアプリ連携
- 既存のPWAアプリ（https://lkebcslv.manus.space/）とのAPI連携を前提とする。
- 質問の取得、解答の送信、学習履歴の記録・表示機能。

### 5.3. プッシュ通知
- 毎日決まった時間（10:00、15:00、19:00）に質問出題を通知する機能。

### 5.4. 学習進捗の記録と分析
- 正答率、解答時間、苦手分野などを記録し、学習者にフィードバックする機能。
- 学習データに基づき、適応的な問題選択アルゴリズムに利用する。

### 5.5. 適応的問題選択アルゴリズム
- 間隔反復学習理論に基づき、学習者の習熟度や忘却度に応じて最適な問題を自動選択する。
- 苦手分野や未学習分野を優先的に出題する。

## 6. 実装ガイド（概要）

### 6.1. 技術スタック
- バックエンド: Python (Flask/FastAPI), データベース (PostgreSQL/SQLite)
- フロントエンド: PWAアプリの既存技術スタックに準拠

### 6.2. API仕様
- 質問取得API
- 解答送信API
- 学習履歴取得API

## 7. 成果物
- システム設計書（本ドキュメント）
- 質問データベース（CSVまたはJSON形式）
- 実装ガイド（API仕様、PWA連携方法、バックエンド実装詳細）

## 8. 今後の課題
- 質問データベースの具体的な内容作成
- PWAアプリ側の改修要件の明確化
- スケジューリング機能の実装詳細



## 9. 宅建試験の出題傾向と重要論点（分析結果）

### 9.1. 全体傾向
- 宅建試験は、毎年50問が出題され、1問1点、合計50点満点である。
- 近年、問題文や選択肢の長文化傾向が見られ、読解力と時間配分が重要になっている。
- 過去問の徹底的な分析と、出題傾向を把握した上での学習が合格には不可欠である。

### 9.2. 科目別出題傾向と重要論点

#### 9.2.1. 権利関係（民法等）
- **出題数**: 例年14問程度（民法10問、借地借家法2問、区分所有法1問、不動産登記法1問が目安）
- **重要論点**: 
    - 意思表示（錯誤、詐欺、強迫）
    - 行為能力（制限行為能力者）
    - 代理
    - 債務不履行、契約解除
    - 担保責任（瑕疵担保責任）
    - 不法行為
    - 抵当権
    - 相続
    - 借地借家法（借地権、借家権の対抗力、更新、期間）
    - 区分所有法（共用部分、管理組合、集会）
- **学習アドバイス**: 
    - 概念理解と体系的学習が最も重要。条文の丸暗記ではなく、なぜそのような規定があるのか、事例にどう適用されるのかを理解する。
    - 事例問題が多く出題されるため、具体的なケースを想定して考える練習が必要。
    - 民法は範囲が広いため、頻出分野に絞って学習し、深掘りすることが効率的。

#### 9.2.2. 宅建業法
- **出題数**: 例年20問程度
- **重要論点**: 
    - 宅地建物取引業の免許
    - 宅地建物取引士
    - 営業保証金、弁済業務保証金
    - 媒介契約
    - 重要事項説明（35条書面）
    - 契約締結時の書面（37条書面）
    - 自ら売主制限（8種制限）
    - クーリングオフ
    - 報酬額の制限
    - 監督処分、罰則
- **学習アドバイス**: 
    - 宅建試験最大の得点源であり、ここで高得点を取ることが合格への鍵となる。
    - 数値や期間、手続きに関する暗記項目が多い。語呂合わせや反復学習で確実に覚える。
    - 過去問を繰り返し解き、正確な知識を定着させる。

#### 9.2.3. 法令上の制限
- **出題数**: 例年8問程度
- **重要論点**: 
    - 都市計画法（都市計画区域、用途地域、開発許可）
    - 建築基準法（建築確認、建ぺい率、容積率、日影規制）
    - 国土利用計画法（届出制、許可制）
    - 農地法
    - 宅地造成等規制法
    - 土地区画整理法
- **学習アドバイス**: 
    - 用語の定義と制限内容の理解が中心。似たような用語や制度が多いので、比較しながら整理して覚える。
    - 図や表を活用して視覚的に理解を深めることが有効。
    - 過去問を通じて、どの法律のどの部分が問われやすいかを把握する。

#### 9.2.4. 税・その他
- **出題数**: 例年8問程度（税法2問、地価公示法・不動産鑑定評価基準1問、統計1問、免除科目5問）
- **重要論点**: 
    - 不動産取得税、固定資産税、印紙税、登録免許税、所得税（譲渡所得）
    - 地価公示法、不動産鑑定評価基準
    - 土地・建物の統計
    - 住宅金融支援機構法、景品表示法、不当競争防止法など（免除科目）
- **学習アドバイス**: 
    - 税法は計算問題が出題されることもあるため、計算方法を理解しておく。
    - 統計は最新のデータを押さえる必要がある。
    - 免除科目は範囲が広いが、基本的な知識が問われることが多い。過去問で頻出論点を確認する。

### 9.3. PWAアプリ連携に関する補足
- 既存のPWAアプリ（https://lkebcslv.manus.space/）との連携は、APIを通じて行われることを想定する。
- 具体的な連携範囲や技術仕様については、PWAアプリの担当者との調整が必要となる。
- 質問の表示、解答の入力、正誤判定、学習履歴の記録などが連携の主要機能となる見込み。




### 9.4. PWAアプリの既存機能調査結果
- PWAアプリ（https://lkebcslv.manus.space/）は、朝・昼・夜の学習フェーズに対応したボタンが配置されている。
- 「学習プロンプトを準備しています」という表示があり、外部からの問題提供を想定していることが示唆される。
- 「学習進度」として「総問題数」と「正解数」が表示されており、学習履歴の記録・表示機能が既に存在するか、またはそのためのUIが準備されている。
- これらの情報から、PWAアプリとの連携は、主に以下のAPIを介して行われると推測される。
    - 質問取得API: 各学習フェーズ（朝・昼・夜）に対応した問題を取得する。
    - 解答送信API: ユーザーの解答を送信し、正誤判定と学習履歴の更新を行う。
    - 学習進捗取得API: 総問題数、正解数などの学習進捗データを取得する。
- 連携の具体的な技術仕様（エンドポイント、リクエスト/レスポンス形式など）は、PWAアプリのバックエンド開発者との連携が必要となる。




## 5.1.1. 質問データベース構造詳細
質問データベースはCSV形式で管理し、以下のカラムを持つ。

| カラム名         | 説明                                                              | データ型   | 例                                       |
| :--------------- | :---------------------------------------------------------------- | :--------- | :--------------------------------------- |
| 問題ID           | 科目コードと連番を組み合わせた一意のID                            | 文字列     | R001, B001, L001, T001                   |
| 科目区分         | 問題の科目区分                                                    | 文字列     | rights, business_law, restrictions, tax_other |
| 時間帯           | 問題が出題される時間帯                                            | 文字列     | morning, afternoon, evening              |
| 難易度           | 問題の難易度                                                      | 文字列     | basic, standard, advanced                |
| 問題文           | 四肢択一形式の問題文                                              | 文字列     | 「AはBに対し、Cを売却した。この場合において…」 |
| 選択肢1          | 選択肢の1つ目                                                     | 文字列     | 「…である。」                               |
| 選択肢2          | 選択肢の2つ目                                                     | 文字列     | 「…ではない。」                             |
| 選択肢3          | 選択肢の3つ目                                                     | 文字列     | 「…と解される。」                           |
| 選択肢4          | 選択肢の4つ目                                                     | 文字列     | 「…としない。」                             |
| 正解             | 正解の選択肢番号（1, 2, 3, 4）                                  | 整数       | 2                                        |
| 解説             | 問題の解説と正解の理由                                            | 文字列     | 「民法第XXX条により、Aの主張は認められない。」 |
| 学習ポイント     | 関連する重要概念や覚えるべきポイント                              | 文字列     | 「制限行為能力者の制度を理解する。」       |
| 記憶のコツ         | 効率的に記憶するためのテクニック                                  | 文字列     | 「語呂合わせ：〇〇〇〇」                     |
| 推定学習時間     | 問題を解くのに必要な時間（秒）                                    | 整数       | 60                                       |


