# 宅地建物取引士試験 質問データベース

**作成者**: Manus AI  
**作成日**: 2025年8月15日  
**バージョン**: 1.0

## 目次

1. [出題傾向分析](#出題傾向分析)
2. [科目別質問データベース](#科目別質問データベース)
3. [時間帯別質問配分](#時間帯別質問配分)
4. [難易度別問題分類](#難易度別問題分類)
5. [実装用データ構造](#実装用データ構造)

---

## 出題傾向分析

### 過去問分析に基づく出題パターン

宅建試験の過去問分析により、以下の出題傾向が明確になっています：

#### 権利関係（民法等）- 14問
**頻出テーマ（出題頻度順）**
1. **意思表示** - 毎年1-2問（出題率100%）
2. **代理** - 毎年1問（出題率95%）
3. **時効** - 2年に1問（出題率50%）
4. **物権変動** - 毎年1問（出題率90%）
5. **抵当権** - 毎年1問（出題率85%）
6. **債権譲渡** - 2年に1問（出題率45%）
7. **賃貸借** - 毎年1-2問（出題率100%）
8. **売買契約** - 毎年1問（出題率80%）
9. **借地借家法** - 毎年2-3問（出題率100%）
10. **区分所有法** - 毎年1問（出題率75%）
11. **不動産登記法** - 毎年1問（出題率70%）

#### 宅建業法 - 20問
**頻出テーマ（出題頻度順）**
1. **免許制度** - 毎年2-3問（出題率100%）
2. **営業保証金・保証協会** - 毎年1-2問（出題率100%）
3. **媒介契約** - 毎年2-3問（出題率100%）
4. **重要事項説明** - 毎年3-4問（出題率100%）
5. **37条書面** - 毎年2-3問（出題率100%）
6. **報酬** - 毎年2問（出題率100%）
7. **8種制限** - 毎年2-3問（出題率100%）
8. **監督処分・罰則** - 毎年1-2問（出題率95%）
9. **業務上の規制** - 毎年1-2問（出題率90%）
10. **住宅瑕疵担保履行法** - 毎年1問（出題率85%）

#### 法令上の制限 - 8問
**頻出テーマ（出題頻度順）**
1. **都市計画法** - 毎年2問（出題率100%）
2. **建築基準法** - 毎年2問（出題率100%）
3. **国土利用計画法** - 毎年1問（出題率100%）
4. **農地法** - 毎年1問（出題率95%）
5. **土地区画整理法** - 毎年1問（出題率90%）
6. **宅地造成等規制法** - 毎年1問（出題率85%）
7. **その他の法令** - 不定期（出題率30%）

#### 税・その他 - 8問
**頻出テーマ（出題頻度順）**
1. **不動産取得税** - 毎年1問（出題率100%）
2. **固定資産税** - 毎年1問（出題率100%）
3. **登録免許税** - 毎年1問（出題率95%）
4. **印紙税** - 毎年1問（出題率90%）
5. **不動産鑑定評価** - 毎年1問（出題率85%）
6. **地価公示** - 毎年1問（出題率80%）
7. **統計問題** - 毎年1問（出題率100%）
8. **土地・建物の知識** - 毎年1問（出題率75%）

### 難易度分布分析

**基礎レベル（正答率70%以上）**: 全体の30%
- 基本的な用語の定義
- 単純な条文の適用
- 基礎的な計算問題

**標準レベル（正答率50-70%）**: 全体の50%
- 複数の条文の組み合わせ
- 実務的な応用問題
- やや複雑な計算問題

**応用レベル（正答率30-50%）**: 全体の15%
- 判例の理解と適用
- 複合的な法律問題
- 高度な実務知識

**発展レベル（正答率30%未満）**: 全体の5%
- 最新の法改正内容
- 複雑な事例問題
- 専門的な実務知識


## 科目別質問データベース

### 権利関係（民法等）質問データベース

#### 朝の学習用（基礎固め）- 基礎レベル

**問題ID: R001**
```json
{
  "id": "R001",
  "subject": "rights",
  "category": "意思表示",
  "difficulty": "basic",
  "time_slot": "morning",
  "question_text": "意思表示に関する次の記述のうち、民法の規定によれば、正しいものはどれか。",
  "options": [
    "意思表示は、表意者が相手方に対して意思を表示した時から効力を生ずる。",
    "相手方が正当な理由なく意思表示の通知を拒絶したときは、その通知は、通常到達すべきであった時に到達したものとみなされる。",
    "意思表示が詐欺によってされた場合、その意思表示は当然に無効となる。",
    "錯誤による意思表示は、表意者に重大な過失があった場合でも、常に取り消すことができる。"
  ],
  "correct_answer": 2,
  "explanation": "意思表示は到達主義を採用しており、相手方が正当な理由なく通知を拒絶した場合は、通常到達すべきであった時に到達したものとみなされます。",
  "learning_points": [
    "意思表示の効力発生時期（到達主義）",
    "到達主義の例外規定",
    "詐欺と錯誤の違い（取消しと無効の区別）"
  ],
  "tips": "意思表示は民法の基本中の基本です。到達主義が原則で、例外的な場合のみ発信主義が適用されることを覚えましょう。",
  "estimated_time": 180
}
```

**問題ID: R002**
```json
{
  "id": "R002",
  "subject": "rights",
  "category": "代理",
  "difficulty": "basic",
  "time_slot": "morning",
  "question_text": "代理に関する次の記述のうち、民法の規定によれば、誤っているものはどれか。",
  "options": [
    "代理人が代理権の範囲内において本人のためにすることを示して意思表示をしたときは、その効果は直接本人に帰属する。",
    "代理人は、行為能力者であることを要しない。",
    "代理人は、本人の同意を得たときであっても、自己又は第三者の代理人として同一の法律行為をすることはできない。",
    "代理権は、本人の死亡によって消滅する。"
  ],
  "correct_answer": 3,
  "explanation": "代理人は、本人の同意を得たときは、自己又は第三者の代理人として同一の法律行為をすることができます。",
  "learning_points": [
    "代理の効果（直接効果説）",
    "代理人の行為能力",
    "双方代理の禁止と例外",
    "代理権の消滅事由"
  ],
  "tips": "双方代理は原則禁止ですが、本人の同意があれば例外的に認められます。この例外規定を確実に覚えましょう。",
  "estimated_time": 180
}
```

#### 昼の学習用（理解深化）- 標準レベル

**問題ID: R003**
```json
{
  "id": "R003",
  "subject": "rights",
  "category": "物権変動",
  "difficulty": "standard",
  "time_slot": "afternoon",
  "question_text": "不動産の物権変動に関する次の記述のうち、民法の規定及び判例によれば、正しいものはどれか。",
  "options": [
    "不動産の売買契約が締結されても、所有権移転登記をしなければ、買主は所有権を取得することができない。",
    "不動産の二重譲渡において、第一譲受人が所有権移転登記を備えていない場合、第二譲受人が先に登記を備えれば、第二譲受人が所有権を取得する。",
    "相続による不動産の所有権取得については、登記なくして第三者に対抗することができる。",
    "時効による不動産の所有権取得については、登記なくして第三者に対抗することができない。"
  ],
  "correct_answer": 2,
  "explanation": "不動産の二重譲渡では、先に登記を備えた者が所有権を取得します（民法177条）。相続や時効取得は登記なくして第三者に対抗できます。",
  "learning_points": [
    "物権変動における対抗要件（民法177条）",
    "二重譲渡の処理",
    "相続・時効取得の特例",
    "登記の対抗力"
  ],
  "tips": "177条は「第三者に対する対抗要件」であり、当事者間では登記なくても所有権移転は有効です。",
  "estimated_time": 240
}
```

#### 夜の学習用（実戦演習）- 応用レベル

**問題ID: R004**
```json
{
  "id": "R004",
  "subject": "rights",
  "category": "借地借家法",
  "difficulty": "advanced",
  "time_slot": "evening",
  "question_text": "借地借家法に関する次の記述のうち、正しいものはどれか。",
  "options": [
    "定期借地権の設定は、公正証書による等書面によって行わなければならず、存続期間は50年以上でなければならない。",
    "建物の賃貸借において、賃貸人が賃借人に対し更新拒絶の通知をする場合には、期間満了の1年前から6月前までの間にしなければならない。",
    "借地権者が借地上の建物を第三者に譲渡する場合、借地権も一緒に譲渡されるが、地主の承諾は不要である。",
    "借家契約において、賃借人が造作を付加した場合、賃貸借終了時に賃貸人に対して造作買取請求権を行使することができるが、特約により排除することはできない。"
  ],
  "correct_answer": 2,
  "explanation": "建物の賃貸借における更新拒絶通知は、期間満了の1年前から6月前までの間に行う必要があります。",
  "learning_points": [
    "定期借地権の要件（一般定期借地権は50年以上）",
    "更新拒絶通知の時期",
    "借地権譲渡と地主の承諾",
    "造作買取請求権と特約の効力"
  ],
  "tips": "借地借家法は賃借人保護が強いですが、定期借地権や造作買取請求権の排除など、例外規定も重要です。",
  "estimated_time": 300
}
```

### 宅建業法質問データベース

#### 朝の学習用（基礎固め）- 基礎レベル

**問題ID: B001**
```json
{
  "id": "B001",
  "subject": "business_law",
  "category": "免許制度",
  "difficulty": "basic",
  "time_slot": "morning",
  "question_text": "宅地建物取引業の免許に関する次の記述のうち、正しいものはどれか。",
  "options": [
    "宅地建物取引業の免許の有効期間は3年である。",
    "宅地建物取引業者が法人である場合、その役員のうち1人以上が専任の宅地建物取引士でなければならない。",
    "宅地建物取引業の免許は、国土交通大臣又は都道府県知事が行う。",
    "宅地建物取引業の免許を受けようとする者は、欠格事由に該当しないことを証明する書面を提出しなければならない。"
  ],
  "correct_answer": 3,
  "explanation": "宅地建物取引業の免許は、2以上の都道府県に事務所を設置する場合は国土交通大臣、1つの都道府県内のみの場合は都道府県知事が行います。",
  "learning_points": [
    "免許の有効期間（5年）",
    "専任の宅地建物取引士の設置義務",
    "免許権者の区分",
    "免許申請時の必要書類"
  ],
  "tips": "免許の有効期間は5年です。3年と間違えやすいので注意しましょう。",
  "estimated_time": 180
}
```

#### 昼の学習用（理解深化）- 標準レベル

**問題ID: B002**
```json
{
  "id": "B002",
  "subject": "business_law",
  "category": "報酬",
  "difficulty": "standard",
  "time_slot": "afternoon",
  "question_text": "宅地建物取引業者が受けることができる報酬に関する次の記述のうち、正しいものはどれか。",
  "options": [
    "売買の媒介の場合、売買代金が400万円を超える場合の報酬の上限は、売買代金の3%に6万円を加えた額である。",
    "売買の媒介の場合、依頼者の一方から受けることができる報酬の上限は、売買代金の3%に6万円を加えた額に消費税を加算した額である。",
    "賃貸の媒介の場合、依頼者の双方から受けることができる報酬の合計額の上限は、借賃の1月分に相当する金額である。",
    "交換の媒介の場合、交換する宅地又は建物の価額に差があるときは、高い方の価額を売買代金とみなして報酬を算定する。"
  ],
  "correct_answer": 3,
  "explanation": "賃貸の媒介では、依頼者双方から受ける報酬の合計が借賃の1月分以内でなければなりません。",
  "learning_points": [
    "売買媒介報酬の計算方法",
    "消費税の取り扱い",
    "賃貸媒介報酬の上限",
    "交換媒介の報酬算定"
  ],
  "tips": "報酬計算は「3%+6万円+消費税」が基本ですが、これは400万円超の場合の上限額です。",
  "estimated_time": 240
}
```

#### 夜の学習用（実戦演習）- 応用レベル

**問題ID: B003**
```json
{
  "id": "B003",
  "subject": "business_law",
  "category": "重要事項説明",
  "difficulty": "advanced",
  "time_slot": "evening",
  "question_text": "宅地建物取引業者が行う重要事項説明に関する次の記述のうち、宅地建物取引業法の規定によれば、誤っているものはどれか。",
  "options": [
    "宅地の売買の媒介を行う場合、都市計画法第29条第1項の開発許可を受ける必要がある土地であるときは、その旨を説明しなければならない。",
    "建物の売買の媒介を行う場合、当該建物が建築基準法第6条第1項の建築確認を受けたものであるときは、その旨を説明しなければならない。",
    "マンションの売買の媒介を行う場合、管理費、修繕積立金等の額及びその滞納の有無を説明しなければならない。",
    "建物の貸借の媒介を行う場合、当該建物の構造及び階数を説明しなければならない。"
  ],
  "correct_answer": 4,
  "explanation": "建物の貸借では、構造及び階数の説明義務はありません。これは売買の場合の説明事項です。",
  "learning_points": [
    "開発許可に関する説明事項",
    "建築確認に関する説明事項",
    "区分所有建物特有の説明事項",
    "売買と賃貸借の説明事項の違い"
  ],
  "tips": "重要事項説明は売買と賃貸借で説明事項が異なります。特に建物の構造・階数は売買のみの説明事項です。",
  "estimated_time": 300
}
```

### 法令上の制限質問データベース

#### 朝の学習用（基礎固め）- 基礎レベル

**問題ID: L001**
```json
{
  "id": "L001",
  "subject": "restrictions",
  "category": "都市計画法",
  "difficulty": "basic",
  "time_slot": "morning",
  "question_text": "都市計画法に関する次の記述のうち、正しいものはどれか。",
  "options": [
    "市街化区域は、すでに市街地を形成している区域及びおおむね10年以内に優先的かつ計画的に市街化を図るべき区域である。",
    "市街化調整区域では、開発行為は一切禁止されている。",
    "準都市計画区域は、都市計画区域外の区域のうち、そのまま土地利用を整序し、又は環境を保全するため、特に必要があるときに指定される。",
    "都市計画区域は、市町村が指定する。"
  ],
  "correct_answer": 1,
  "explanation": "市街化区域は、すでに市街地を形成している区域及びおおむね10年以内に優先的かつ計画的に市街化を図るべき区域です。",
  "learning_points": [
    "市街化区域の定義",
    "市街化調整区域での開発制限",
    "準都市計画区域の指定要件",
    "都市計画区域の指定権者"
  ],
  "tips": "市街化区域は「10年以内」、市街化調整区域は「市街化を抑制すべき区域」と覚えましょう。",
  "estimated_time": 180
}
```

#### 昼の学習用（理解深化）- 標準レベル

**問題ID: L002**
```json
{
  "id": "L002",
  "subject": "restrictions",
  "category": "建築基準法",
  "difficulty": "standard",
  "time_slot": "afternoon",
  "question_text": "建築基準法に関する次の記述のうち、正しいものはどれか。",
  "options": [
    "建蔽率の限度は、用途地域の種類に関係なく、すべて60%である。",
    "容積率の限度は、用途地域で定められた数値と前面道路の幅員による制限のうち、いずれか大きい方が適用される。",
    "第一種低層住居専用地域内では、建築物の高さは10m又は12mのうち都市計画で定められた高さを超えてはならない。",
    "準防火地域内では、すべての建築物を耐火建築物又は準耐火建築物としなければならない。"
  ],
  "correct_answer": 3,
  "explanation": "第一種低層住居専用地域では、建築物の高さは10m又は12mのうち都市計画で定められた高さを超えてはなりません。",
  "learning_points": [
    "建蔽率の限度（用途地域により異なる）",
    "容積率の制限（小さい方が適用）",
    "第一種低層住居専用地域の高さ制限",
    "準防火地域の建築制限"
  ],
  "tips": "容積率は「小さい方」が適用されます。建蔽率・容積率の数値は用途地域ごとに異なることを覚えましょう。",
  "estimated_time": 240
}
```

#### 夜の学習用（実戦演習）- 応用レベル

**問題ID: L003**
```json
{
  "id": "L003",
  "subject": "restrictions",
  "category": "農地法",
  "difficulty": "advanced",
  "time_slot": "evening",
  "question_text": "農地法に関する次の記述のうち、正しいものはどれか。",
  "options": [
    "市街化区域内の農地を宅地に転用する場合、農地法第5条の許可を受ける必要がある。",
    "農地を農地以外のものにする場合、その農地が4ha以下であれば都道府県知事の許可を受ければよい。",
    "農地の所有者が自らその農地を農地以外のものにする場合は、農地法第4条の届出又は許可が必要である。",
    "農地法第3条の許可を受けないでした農地の権利移動は、効力を生じない。"
  ],
  "correct_answer": 3,
  "explanation": "農地の所有者が自らその農地を農地以外のものにする場合は、農地法第4条の届出又は許可が必要です。",
  "learning_points": [
    "市街化区域内農地の転用（届出制）",
    "農地転用許可の権限（4ha超は農林水産大臣）",
    "農地法第4条と第5条の違い",
    "農地法違反の効果"
  ],
  "tips": "農地法は3条（権利移動）、4条（転用）、5条（権利移動+転用）の区別が重要です。",
  "estimated_time": 300
}
```

### 税・その他質問データベース

#### 朝の学習用（基礎固め）- 基礎レベル

**問題ID: T001**
```json
{
  "id": "T001",
  "subject": "tax_other",
  "category": "不動産取得税",
  "difficulty": "basic",
  "time_slot": "morning",
  "question_text": "不動産取得税に関する次の記述のうち、正しいものはどれか。",
  "options": [
    "不動産取得税は、不動産を取得した者に対して、国が課する税である。",
    "不動産取得税の標準税率は、4%である。",
    "相続による不動産の取得については、不動産取得税は課されない。",
    "不動産取得税は、不動産を取得した日から30日以内に申告しなければならない。"
  ],
  "correct_answer": 3,
  "explanation": "相続による不動産の取得については、不動産取得税は課されません。",
  "learning_points": [
    "不動産取得税の課税主体（都道府県）",
    "標準税率（3%）",
    "非課税となる取得",
    "申告期限（60日以内）"
  ],
  "tips": "不動産取得税は都道府県税で、標準税率は3%です。相続は非課税ですが、贈与は課税されます。",
  "estimated_time": 180
}
```

#### 昼の学習用（理解深化）- 標準レベル

**問題ID: T002**
```json
{
  "id": "T002",
  "subject": "tax_other",
  "category": "固定資産税",
  "difficulty": "standard",
  "time_slot": "afternoon",
  "question_text": "固定資産税に関する次の記述のうち、正しいものはどれか。",
  "options": [
    "固定資産税の納税義務者は、賦課期日現在における固定資産の所有者である。",
    "住宅用地に対する固定資産税の課税標準の特例措置により、小規模住宅用地の課税標準は価格の6分の1となる。",
    "新築住宅に対する固定資産税の減額措置は、新築後5年間適用される。",
    "固定資産税の標準税率は、1.2%である。"
  ],
  "correct_answer": 2,
  "explanation": "小規模住宅用地（200㎡以下の部分）の課税標準は価格の6分の1となります。",
  "learning_points": [
    "納税義務者（賦課期日現在の所有者）",
    "住宅用地の特例（小規模1/6、一般1/3）",
    "新築住宅の減額措置（3年間又は5年間）",
    "標準税率（1.4%）"
  ],
  "tips": "住宅用地の特例は「小規模1/6、一般1/3」と覚えましょう。標準税率は1.4%です。",
  "estimated_time": 240
}
```

#### 夜の学習用（実戦演習）- 応用レベル

**問題ID: T003**
```json
{
  "id": "T003",
  "subject": "tax_other",
  "category": "統計問題",
  "difficulty": "advanced",
  "time_slot": "evening",
  "question_text": "令和6年度の不動産に関する統計について、正しいものはどれか。",
  "options": [
    "建築着工統計によると、新設住宅着工戸数は前年度と比較して増加している。",
    "地価公示によると、全国平均の地価は2年連続で上昇している。",
    "土地白書によると、土地取引件数は前年度と比較して減少している。",
    "法人企業統計によると、不動産業の売上高は前年度と比較して増加している。"
  ],
  "correct_answer": 2,
  "explanation": "令和6年度の地価公示では、全国平均の地価が2年連続で上昇しています。",
  "learning_points": [
    "建築着工統計の動向",
    "地価公示の結果",
    "土地白書の内容",
    "法人企業統計の動向"
  ],
  "tips": "統計問題は最新のデータを覚える必要があります。特に地価公示と建築着工統計は頻出です。",
  "estimated_time": 300
}
```


## 時間帯別質問配分

### 朝の学習（10:00）- 基礎固めフェーズ

**配分戦略**: 新しい知識の習得と基礎概念の理解に重点

| 科目 | 問題数 | 配分比率 | 難易度 | 重点テーマ |
|------|--------|----------|--------|------------|
| 権利関係 | 2問 | 40% | 基礎 | 意思表示、代理、物権変動 |
| 宅建業法 | 2問 | 40% | 基礎 | 免許制度、営業保証金 |
| 法令上の制限 | 1問 | 20% | 基礎 | 都市計画法、建築基準法 |
| 税・その他 | 0問 | 0% | - | - |

**学習目標**:
- 基本的な法律用語の理解
- 条文の基本的な適用
- 前日学習内容の復習

**出題方針**:
- 正答率70-80%を目標とした基礎問題
- 単純な条文適用問題
- 基本概念の理解を問う問題

### 昼の学習（15:00）- 理解深化フェーズ

**配分戦略**: 実務的な応用と知識の定着に重点

| 科目 | 問題数 | 配分比率 | 難易度 | 重点テーマ |
|------|--------|----------|--------|------------|
| 権利関係 | 1問 | 20% | 標準 | 借地借家法、区分所有法 |
| 宅建業法 | 3問 | 60% | 標準 | 重要事項説明、37条書面、報酬 |
| 法令上の制限 | 1問 | 20% | 標準 | 開発許可、建築確認 |
| 税・その他 | 0問 | 0% | - | - |

**学習目標**:
- 実務的な応用力の向上
- 複数の条文の組み合わせ理解
- 午前中の学習内容の定着

**出題方針**:
- 正答率60-70%を目標とした標準問題
- 実務に直結する応用問題
- 複数の知識を組み合わせた問題

### 夜の学習（19:00）- 実戦演習フェーズ

**配分戦略**: 総合的な実戦力と応用力の向上に重点

| 科目 | 問題数 | 配分比率 | 難易度 | 重点テーマ |
|------|--------|----------|--------|------------|
| 権利関係 | 1問 | 20% | 応用 | 複合的な民法問題 |
| 宅建業法 | 1問 | 20% | 応用 | 8種制限、監督処分 |
| 法令上の制限 | 2問 | 40% | 応用 | 農地法、土地区画整理法 |
| 税・その他 | 1問 | 20% | 応用 | 統計問題、税法計算 |

**学習目標**:
- 実戦的な問題解決能力
- 弱点分野の特定と克服
- 一日の学習内容の総復習

**出題方針**:
- 正答率50-60%を目標とした応用問題
- 複合的な知識を要する問題
- 実際の試験に近い難易度の問題

## 難易度別問題分類

### 基礎レベル（正答率70-80%目標）

**特徴**:
- 基本的な法律用語の定義
- 単純な条文の適用
- 基礎的な計算問題

**出題科目別内訳**:

#### 権利関係
- 意思表示の基本概念
- 代理の基本原則
- 物権変動の基本ルール
- 時効の基本要件

#### 宅建業法
- 免許制度の基本
- 営業保証金の基本
- 宅地建物取引士の基本
- 業務規制の基本

#### 法令上の制限
- 都市計画法の基本概念
- 建築基準法の基本用語
- 国土利用計画法の基本

#### 税・その他
- 各税の基本的な仕組み
- 課税・非課税の基本区分

### 標準レベル（正答率60-70%目標）

**特徴**:
- 複数の条文の組み合わせ
- 実務的な応用問題
- やや複雑な計算問題

**出題科目別内訳**:

#### 権利関係
- 意思表示と代理の組み合わせ
- 物権変動と登記の関係
- 借地借家法の実務的適用
- 区分所有法の管理規約

#### 宅建業法
- 重要事項説明の具体的内容
- 37条書面の記載事項
- 報酬計算の実務
- 媒介契約の種類と効果

#### 法令上の制限
- 開発許可の具体的要件
- 建築確認の手続き
- 農地転用の実務

#### 税・その他
- 税額計算の実務
- 特例制度の適用要件

### 応用レベル（正答率50-60%目標）

**特徴**:
- 判例の理解と適用
- 複合的な法律問題
- 高度な実務知識

**出題科目別内訳**:

#### 権利関係
- 複合的な民法問題
- 判例の具体的適用
- 実務上の複雑な事例

#### 宅建業法
- 8種制限の複合問題
- 監督処分の具体的事例
- 業務上の複雑な規制

#### 法令上の制限
- 複数法令の組み合わせ
- 許可・届出の複合問題
- 実務上の複雑な制限

#### 税・その他
- 複合的な税額計算
- 統計問題の詳細分析
- 不動産鑑定の専門知識

### 発展レベル（正答率40-50%目標）

**特徴**:
- 最新の法改正内容
- 複雑な事例問題
- 専門的な実務知識

**出題科目別内訳**:

#### 権利関係
- 民法改正の最新内容
- 複雑な判例の適用
- 高度な理論問題

#### 宅建業法
- 最新の業法改正
- 複雑な実務事例
- 高度な規制内容

#### 法令上の制限
- 最新の法令改正
- 複雑な許可要件
- 高度な制限内容

#### 税・その他
- 最新の税制改正
- 複雑な統計分析
- 高度な専門知識


## 実装用データ構造

### データベーススキーマ

#### 問題マスターテーブル（questions）

```sql
CREATE TABLE questions (
    id VARCHAR(10) PRIMARY KEY,
    subject ENUM('rights', 'business_law', 'restrictions', 'tax_other') NOT NULL,
    category VARCHAR(50) NOT NULL,
    difficulty ENUM('basic', 'standard', 'advanced', 'expert') NOT NULL,
    time_slot ENUM('morning', 'afternoon', 'evening') NOT NULL,
    question_text TEXT NOT NULL,
    option_1 TEXT NOT NULL,
    option_2 TEXT NOT NULL,
    option_3 TEXT NOT NULL,
    option_4 TEXT NOT NULL,
    correct_answer INT NOT NULL CHECK (correct_answer BETWEEN 1 AND 4),
    explanation TEXT NOT NULL,
    learning_points JSON,
    tips TEXT,
    estimated_time INT DEFAULT 180,
    frequency_weight DECIMAL(3,2) DEFAULT 1.00,
    last_updated TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    INDEX idx_subject_difficulty (subject, difficulty),
    INDEX idx_time_slot (time_slot),
    INDEX idx_category (category)
);
```

#### 学習履歴テーブル（learning_history）

```sql
CREATE TABLE learning_history (
    id INT AUTO_INCREMENT PRIMARY KEY,
    user_id VARCHAR(255) NOT NULL,
    question_id VARCHAR(10) NOT NULL,
    user_answer INT CHECK (user_answer BETWEEN 1 AND 4),
    is_correct BOOLEAN,
    time_slot ENUM('morning', 'afternoon', 'evening'),
    response_time INT,
    answered_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (question_id) REFERENCES questions(id),
    INDEX idx_user_question (user_id, question_id),
    INDEX idx_user_time (user_id, answered_at),
    INDEX idx_time_slot (time_slot)
);
```

#### 学習進捗テーブル（learning_progress）

```sql
CREATE TABLE learning_progress (
    id INT AUTO_INCREMENT PRIMARY KEY,
    user_id VARCHAR(255) NOT NULL,
    subject ENUM('rights', 'business_law', 'restrictions', 'tax_other'),
    difficulty ENUM('basic', 'standard', 'advanced', 'expert'),
    total_questions INT DEFAULT 0,
    correct_answers INT DEFAULT 0,
    accuracy_rate DECIMAL(5,2) DEFAULT 0.00,
    average_response_time INT DEFAULT 0,
    last_study_date DATE,
    study_streak INT DEFAULT 0,
    weak_categories JSON,
    strong_categories JSON,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
    UNIQUE KEY unique_user_subject_difficulty (user_id, subject, difficulty),
    INDEX idx_user_id (user_id),
    INDEX idx_accuracy (accuracy_rate)
);
```

### JSON データ構造

#### 問題データ（Question Object）

```json
{
  "id": "R001",
  "subject": "rights",
  "category": "意思表示",
  "difficulty": "basic",
  "timeSlot": "morning",
  "questionText": "意思表示に関する次の記述のうち、民法の規定によれば、正しいものはどれか。",
  "options": [
    "意思表示は、表意者が相手方に対して意思を表示した時から効力を生ずる。",
    "相手方が正当な理由なく意思表示の通知を拒絶したときは、その通知は、通常到達すべきであった時に到達したものとみなされる。",
    "意思表示が詐欺によってされた場合、その意思表示は当然に無効となる。",
    "錯誤による意思表示は、表意者に重大な過失があった場合でも、常に取り消すことができる。"
  ],
  "correctAnswer": 2,
  "explanation": "意思表示は到達主義を採用しており、相手方が正当な理由なく通知を拒絶した場合は、通常到達すべきであった時に到達したものとみなされます。",
  "learningPoints": [
    "意思表示の効力発生時期（到達主義）",
    "到達主義の例外規定",
    "詐欺と錯誤の違い（取消しと無効の区別）"
  ],
  "tips": "意思表示は民法の基本中の基本です。到達主義が原則で、例外的な場合のみ発信主義が適用されることを覚えましょう。",
  "estimatedTime": 180,
  "frequencyWeight": 1.0,
  "tags": ["基本概念", "頻出", "重要"],
  "relatedQuestions": ["R002", "R015", "R028"],
  "lastUpdated": "2025-08-15T10:00:00Z"
}
```

#### 学習セッションデータ（Study Session Object）

```json
{
  "sessionId": "session_20250815_morning_001",
  "userId": "user123",
  "timeSlot": "morning",
  "startTime": "2025-08-15T10:00:00Z",
  "endTime": "2025-08-15T10:15:00Z",
  "questions": [
    {
      "questionId": "R001",
      "userAnswer": 2,
      "isCorrect": true,
      "responseTime": 165,
      "confidence": 4
    },
    {
      "questionId": "B001",
      "userAnswer": 1,
      "isCorrect": false,
      "responseTime": 210,
      "confidence": 2
    }
  ],
  "summary": {
    "totalQuestions": 5,
    "correctAnswers": 4,
    "accuracyRate": 80.0,
    "averageResponseTime": 185,
    "totalTime": 925
  },
  "feedback": {
    "strengths": ["意思表示", "代理"],
    "weaknesses": ["免許制度"],
    "recommendations": [
      "免許制度の基本概念を復習しましょう",
      "宅建業法の数値を確認しましょう"
    ]
  }
}
```

#### ユーザー進捗データ（User Progress Object）

```json
{
  "userId": "user123",
  "overallProgress": {
    "totalQuestions": 150,
    "correctAnswers": 105,
    "accuracyRate": 70.0,
    "studyStreak": 15,
    "totalStudyTime": 7200,
    "averageSessionTime": 480,
    "lastStudyDate": "2025-08-15"
  },
  "subjectProgress": {
    "rights": {
      "totalQuestions": 50,
      "correctAnswers": 32,
      "accuracyRate": 64.0,
      "averageResponseTime": 195,
      "weakCategories": ["物権変動", "時効"],
      "strongCategories": ["意思表示", "代理"]
    },
    "businessLaw": {
      "totalQuestions": 60,
      "correctAnswers": 48,
      "accuracyRate": 80.0,
      "averageResponseTime": 175,
      "weakCategories": ["8種制限"],
      "strongCategories": ["免許制度", "報酬"]
    },
    "restrictions": {
      "totalQuestions": 25,
      "correctAnswers": 15,
      "accuracyRate": 60.0,
      "averageResponseTime": 220,
      "weakCategories": ["農地法", "土地区画整理法"],
      "strongCategories": ["都市計画法"]
    },
    "taxOther": {
      "totalQuestions": 15,
      "correctAnswers": 10,
      "accuracyRate": 66.7,
      "averageResponseTime": 200,
      "weakCategories": ["統計問題"],
      "strongCategories": ["不動産取得税"]
    }
  },
  "difficultyProgress": {
    "basic": {
      "accuracyRate": 85.0,
      "averageResponseTime": 160
    },
    "standard": {
      "accuracyRate": 70.0,
      "averageResponseTime": 190
    },
    "advanced": {
      "accuracyRate": 55.0,
      "averageResponseTime": 240
    },
    "expert": {
      "accuracyRate": 40.0,
      "averageResponseTime": 280
    }
  },
  "timeSlotPerformance": {
    "morning": {
      "averageAccuracy": 75.0,
      "averageResponseTime": 180,
      "preferredSubjects": ["rights", "businessLaw"]
    },
    "afternoon": {
      "averageAccuracy": 68.0,
      "averageResponseTime": 195,
      "preferredSubjects": ["businessLaw"]
    },
    "evening": {
      "averageAccuracy": 62.0,
      "averageResponseTime": 210,
      "preferredSubjects": ["restrictions", "taxOther"]
    }
  },
  "recommendations": {
    "focusAreas": [
      {
        "type": "weak_subject",
        "subject": "restrictions",
        "priority": "high",
        "reason": "正答率が60%と低い"
      },
      {
        "type": "weak_category",
        "category": "農地法",
        "priority": "medium",
        "reason": "法令上の制限で最も苦手"
      }
    ],
    "studyPlan": {
      "dailyGoals": {
        "questionsPerSession": 5,
        "targetAccuracy": 70.0,
        "maxStudyTime": 20
      },
      "weeklyGoals": {
        "totalQuestions": 105,
        "targetAccuracy": 72.0,
        "focusSubject": "restrictions"
      }
    }
  }
}
```

### API レスポンス形式

#### 問題取得API レスポンス

```json
{
  "status": "success",
  "data": {
    "timeSlot": "morning",
    "questions": [
      {
        "id": "R001",
        "subject": "rights",
        "category": "意思表示",
        "difficulty": "basic",
        "questionText": "意思表示に関する次の記述のうち...",
        "options": [
          "意思表示は、表意者が相手方に対して...",
          "相手方が正当な理由なく意思表示の通知を...",
          "意思表示が詐欺によってされた場合...",
          "錯誤による意思表示は、表意者に重大な..."
        ],
        "learningPoints": [
          "意思表示の効力発生時期",
          "到達主義の例外"
        ],
        "tips": "この問題は民法の基本中の基本です...",
        "estimatedTime": 180
      }
    ],
    "metadata": {
      "totalQuestions": 5,
      "estimatedTotalTime": 900,
      "difficultyDistribution": {
        "basic": 3,
        "standard": 2,
        "advanced": 0
      },
      "subjectDistribution": {
        "rights": 2,
        "businessLaw": 2,
        "restrictions": 1,
        "taxOther": 0
      }
    }
  },
  "timestamp": "2025-08-15T10:00:00Z"
}
```

#### 解答送信API レスポンス

```json
{
  "status": "success",
  "data": {
    "questionId": "R001",
    "userAnswer": 2,
    "isCorrect": true,
    "correctAnswer": 2,
    "explanation": "意思表示は到達主義を採用しており...",
    "responseTime": 165,
    "points": 10,
    "feedback": {
      "message": "正解です！基本概念をよく理解していますね。",
      "level": "excellent",
      "nextRecommendation": "次は代理の問題に挑戦してみましょう。"
    },
    "progress": {
      "currentAccuracy": 70.5,
      "questionsAnswered": 151,
      "correctAnswers": 106,
      "streakCount": 3
    },
    "nextQuestion": {
      "available": true,
      "questionId": "B001",
      "estimatedTime": 180
    }
  },
  "timestamp": "2025-08-15T10:03:00Z"
}
```

### 問題選択アルゴリズム

#### 適応的問題選択

```javascript
class AdaptiveQuestionSelector {
    constructor(userProgress, timeSlot) {
        this.userProgress = userProgress;
        this.timeSlot = timeSlot;
        this.questionPool = [];
    }
    
    // 時間帯に応じた問題選択
    selectQuestions(count = 5) {
        const strategy = this.getSelectionStrategy();
        const questions = [];
        
        for (let i = 0; i < count; i++) {
            const question = this.selectSingleQuestion(strategy, questions);
            if (question) {
                questions.push(question);
            }
        }
        
        return questions;
    }
    
    // 選択戦略の決定
    getSelectionStrategy() {
        const strategies = {
            morning: {
                difficultyWeights: { basic: 0.6, standard: 0.3, advanced: 0.1 },
                subjectWeights: { rights: 0.4, businessLaw: 0.4, restrictions: 0.2 },
                focusOnWeakAreas: false
            },
            afternoon: {
                difficultyWeights: { basic: 0.3, standard: 0.5, advanced: 0.2 },
                subjectWeights: { rights: 0.2, businessLaw: 0.6, restrictions: 0.2 },
                focusOnWeakAreas: true
            },
            evening: {
                difficultyWeights: { basic: 0.2, standard: 0.4, advanced: 0.4 },
                subjectWeights: { rights: 0.2, businessLaw: 0.2, restrictions: 0.4, taxOther: 0.2 },
                focusOnWeakAreas: true
            }
        };
        
        return strategies[this.timeSlot];
    }
    
    // 単一問題の選択
    selectSingleQuestion(strategy, excludeQuestions) {
        const candidates = this.filterCandidates(strategy, excludeQuestions);
        const weights = this.calculateWeights(candidates, strategy);
        
        return this.weightedRandomSelection(candidates, weights);
    }
    
    // 候補問題のフィルタリング
    filterCandidates(strategy, excludeQuestions) {
        const excludeIds = excludeQuestions.map(q => q.id);
        
        return this.questionPool.filter(question => {
            // 既に選択された問題を除外
            if (excludeIds.includes(question.id)) return false;
            
            // 時間帯に適した問題のみ
            if (question.timeSlot !== this.timeSlot) return false;
            
            // 最近解いた問題を除外（間隔反復学習）
            const lastAnswered = this.getLastAnsweredDate(question.id);
            if (lastAnswered && this.daysSince(lastAnswered) < this.getMinInterval(question.difficulty)) {
                return false;
            }
            
            return true;
        });
    }
    
    // 重み計算
    calculateWeights(candidates, strategy) {
        return candidates.map(question => {
            let weight = 1.0;
            
            // 難易度による重み
            weight *= strategy.difficultyWeights[question.difficulty] || 0.1;
            
            // 科目による重み
            weight *= strategy.subjectWeights[question.subject] || 0.1;
            
            // 苦手分野への重み付け
            if (strategy.focusOnWeakAreas) {
                const categoryAccuracy = this.getCategoryAccuracy(question.category);
                if (categoryAccuracy < 0.6) {
                    weight *= 1.5; // 苦手分野の重みを増加
                }
            }
            
            // 頻出度による重み
            weight *= question.frequencyWeight || 1.0;
            
            // 間隔反復による重み
            const lastAnswered = this.getLastAnsweredDate(question.id);
            if (lastAnswered) {
                const daysSince = this.daysSince(lastAnswered);
                const optimalInterval = this.getOptimalInterval(question.id);
                
                if (daysSince >= optimalInterval) {
                    weight *= 1.2; // 復習タイミングの問題の重みを増加
                }
            }
            
            return weight;
        });
    }
    
    // 重み付きランダム選択
    weightedRandomSelection(candidates, weights) {
        const totalWeight = weights.reduce((sum, weight) => sum + weight, 0);
        let random = Math.random() * totalWeight;
        
        for (let i = 0; i < candidates.length; i++) {
            random -= weights[i];
            if (random <= 0) {
                return candidates[i];
            }
        }
        
        return candidates[candidates.length - 1];
    }
}
```

この質問データベースにより、学習者の習熟度と時間帯に応じた最適な問題選択が可能となり、効果的な宅建試験対策を実現できます。

